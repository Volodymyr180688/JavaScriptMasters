import{a as p,S as v,i as L}from"./assets/vendor-3b58022f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();async function b(){const o="https://portfolio-js.b.goit.study/api/reviews";try{const n=await p.get(o);if(n.status===200)return n.data.map(({_id:s,author:i,avatar_url:h,review:g})=>({author:i,avatar_url:h,review:g}));throw new Error("Server responded with status:",n.status)}catch(n){throw console.error("There was a problem with the request:",n),n}}async function y(e,t){const r="https://portfolio-js.b.goit.study/api/requests";try{const s=await p.post(r,{email:e,comment:t});if(s.status===201)return s.data;throw new Error("Server responded with status:",s.status)}catch(s){throw console.error("There was a problem with the request:",s),s}}const u=document.querySelectorAll(".about-me-title"),w=document.querySelectorAll(".accordion-open-about-me");u.forEach(e=>{e.addEventListener("click",()=>{const t=document.querySelector("#"+e.getAttribute("data-tab"));t.classList.contains("active")?(t.classList.remove("active"),t.classList.add("accordion-open"),t.style.maxHeight=0):(w.forEach(o=>{o.classList.remove("active"),o.style.maxHeight=0}),u.forEach(o=>o.classList.remove("active")),e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px")})});const m=new v(".swiper",{navigation:{nextEl:".custom-button-next",prevEl:".custom-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},spaceBetween:30,centeredSlides:!0,slidesPerView:"auto",autoHeight:!0,on:{slideChangeTransitionEnd:function(){const e=document.querySelector(".next-btn"),t=document.querySelector(".prev-btn");m.isEnd?e.disabled=!0:e.disabled=!1,m.isBeginning?t.disabled=!0:t.disabled=!1}}}),f=document.querySelectorAll(".faq-title"),E=document.querySelectorAll(".accordion-open");f.forEach(e=>e.addEventListener("click",()=>{const t=e.children[1];t.classList.contains("active")?(t.classList.remove("active"),t.style.maxHeight=0):(E.forEach(o=>{o.classList.remove("active"),o.style.maxHeight=0}),f.forEach(o=>o.classList.remove("active")),e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px")}));async function S(){try{const e=await b(),t=document.querySelector(".reviews-list"),o=e.map(n=>`
    <li class="reviews-list-item">
      <img class="avatar_url" src=${n.avatar_url} width="48" alt="icon user">
      <h3 class="author"> ${n.author}</h3>
      <p class="review"> ${n.review}</p>
    </li>`).join("");t.insertAdjacentHTML("beforeend",o)}catch(e){console.error("Error fetching reviews:",e)}}S();const d=document.querySelector(".footer-form"),l=document.querySelector(".footer-backdrop"),q=document.querySelector(".footer-modal-response"),A=document.querySelector(".footer-modal-close-btn"),c=document.querySelector(".green-or-red-bottom-line"),T=document.querySelector("#userEmail"),a=document.querySelector(".footer-form-fields-wrapper");d.addEventListener("submit",$);l.addEventListener("click",B);A.addEventListener("click",H);document.addEventListener("keydown",C);T.addEventListener("blur",N);function x(e){return`<h3 class="footer-modal-title">${e.title}</h3>
                  <p class="footer-modal-content">${e.message}</p>`}async function $(e){e.preventDefault();try{const t=d.elements.userEmail.value.trim(),o=d.elements.userComment.value.trim(),n=await y(t,o),r=x(n);l.classList.add("is-open"),q.innerHTML=r,a.classList.contains("input-after-green")&&c.classList.contains("border-bottom-color-green")&&(a.classList.remove("input-after-green"),c.classList.remove("border-bottom-color-green")),e.target.reset()}catch{L.error({position:"topCenter",title:"Error",message:"‚ùå Something went wrong. Try again later."})}}function B(e){e.target===e.currentTarget&&l.classList.remove("is-open")}function H(e){l.classList.remove("is-open")}function C(e){e.code==="Escape"&&l.classList.remove("is-open")}function N(e){const t=e.currentTarget.value.trim();e.target.classList.contains("input-after-green")&&e.target.classList.contains("border-bottom-color-green")?(a.classList.remove("input-after-green"),c.classList.remove("border-bottom-color-green"),t.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?(a.classList.add("input-after-green"),c.classList.add("border-bottom-color-green")):(a.classList.add("input-after-red"),c.classList.add("border-bottom-color-red"))):(a.classList.remove("input-after-red"),c.classList.remove("border-bottom-color-red"),t.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?(a.classList.add("input-after-green"),c.classList.add("border-bottom-color-green")):(a.classList.add("input-after-red"),c.classList.add("border-bottom-color-red")))}
//# sourceMappingURL=commonHelpers.js.map
