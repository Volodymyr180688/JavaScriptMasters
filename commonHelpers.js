import{a as y,S as g,N as h,P as L,i as w}from"./assets/vendor-20d9ab16.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();async function E(){const s="https://portfolio-js.b.goit.study/api/reviews";try{const n=await y.get(s);if(n.status===200)return n.data.map(({_id:r,author:a,avatar_url:v,review:b})=>({author:a,avatar_url:v,review:b}));throw new Error("Server responded with status:",n.status)}catch(n){throw console.error("There was a problem with the request:",n),n}}async function S(e,t){const o="https://portfolio-js.b.goit.study/api/requests";try{const r=await y.post(o,{email:e,comment:t});if(r.status===201)return r.data;throw new Error("Server responded with status:",r.status)}catch(r){throw console.error("There was a problem with the request:",r),r}}const l=document.querySelector("#myModal"),q=document.querySelector("#myBtn"),A=document.querySelector(".close");q.onclick=function(){l.style.display="block"};A.onclick=function(){l.style.display="none"};document.onclick=function(e){e.target===l&&(l.style.display="none")};document.addEventListener("keydown",k);function k(e){(e.key==="Escape"||e.key==="Esc")&&(l.style.display="none")}const m=document.querySelectorAll(".about-me-title"),x=document.querySelectorAll(".accordion-open");m.forEach(e=>{e.addEventListener("click",()=>{const t=document.querySelector("#"+e.getAttribute("data-tab"));t.classList.contains("active")?(t.classList.remove("active"),t.classList.add("accordion-open"),t.style.maxHeight=0):(x.forEach(s=>{s.classList.remove("active"),s.style.maxHeight=0}),m.forEach(s=>s.classList.remove("active")),e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px")})});const P=document.querySelector("#carousel-about-me-list");document.querySelector(".swiper-button-next");new g(P,{modules:[h,L],direction:"horizontal",spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:2,initialSlide:1,updateOnWindowResize:!0,breakpoints:{319:{slidesPerView:1},767:{slidesPerView:2},1440:{slidesPerView:3}},mousewheel:{enabled:!0,invert:!0},keyboard:{enabled:!0,onlyInViewport:!0},loop:!0,allowTouchMove:!0,followFinger:!0,simulateTouch:!0});const p=new g(".swiper",{navigation:{nextEl:".custom-button-next",prevEl:".custom-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},spaceBetween:30,centeredSlides:!0,slidesPerView:"auto",autoHeight:!0,on:{slideChangeTransitionEnd:function(){const e=document.querySelector(".next-btn"),t=document.querySelector(".prev-btn");p.isEnd?e.disabled=!0:e.disabled=!1,p.isBeginning?t.disabled=!0:t.disabled=!1}}}),f=document.querySelectorAll(".faq-title"),T=document.querySelectorAll(".accordion-open");f.forEach(e=>e.addEventListener("click",()=>{const t=e.children[1];t.classList.contains("active")?(t.classList.remove("active"),t.style.maxHeight=0):(T.forEach(s=>{s.classList.remove("active"),s.style.maxHeight=0}),f.forEach(s=>s.classList.remove("active")),e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px")}));async function B(){try{const e=await E();console.log(e)}catch(e){console.error("Error fetching reviews:",e)}}B();const u=document.querySelector(".footer-form"),d=document.querySelector(".footer-backdrop"),N=document.querySelector(".footer-modal-response"),C=document.querySelector(".footer-modal-close-btn"),i=document.querySelector(".green-or-red-bottom-line"),H=document.querySelector("#userEmail"),c=document.querySelector(".footer-form-fields-wrapper");u.addEventListener("submit",R);d.addEventListener("click",$);C.addEventListener("click",z);document.addEventListener("keydown",D);H.addEventListener("blur",I);function O(e){return`<h3 class="footer-modal-title">${e.title}</h3>
                  <p class="footer-modal-content">${e.message}</p>`}async function R(e){e.preventDefault();try{const t=u.elements.userEmail.value.trim(),s=u.elements.userComment.value.trim(),n=await S(t,s),o=O(n);d.classList.add("is-open"),N.innerHTML=o,c.classList.contains("input-after-green")&&i.classList.contains("border-bottom-color-green")&&(c.classList.remove("input-after-green"),i.classList.remove("border-bottom-color-green")),e.target.reset()}catch{w.error({position:"topCenter",title:"Error",message:"‚ùå Something went wrong. Try again later."})}}function $(e){e.target===e.currentTarget&&d.classList.remove("is-open")}function z(e){d.classList.remove("is-open")}function D(e){e.code==="Escape"&&d.classList.remove("is-open")}function I(e){const t=e.currentTarget.value.trim();e.target.classList.contains("input-after-green")&&e.target.classList.contains("border-bottom-color-green")?(c.classList.remove("input-after-green"),i.classList.remove("border-bottom-color-green"),t.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?(c.classList.add("input-after-green"),i.classList.add("border-bottom-color-green")):(c.classList.add("input-after-red"),i.classList.add("border-bottom-color-red"))):(c.classList.remove("input-after-red"),i.classList.remove("border-bottom-color-red"),t.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?(c.classList.add("input-after-green"),i.classList.add("border-bottom-color-green")):(c.classList.add("input-after-red"),i.classList.add("border-bottom-color-red")))}
//# sourceMappingURL=commonHelpers.js.map
